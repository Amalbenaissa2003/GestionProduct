<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Mon Application{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ asset('css/theme.css') }}">
    {% block stylesheets %}{% endblock %}
</head>
<body class="bg-light font-inter">
<style>
/* ðŸŽ¨ Navbar contrastÃ©e et moderne */
.navbar {
  background: linear-gradient(90deg, #0056b3, #007bff); /* bleu profond */
  /*background: linear-gradient(90deg, #007bff, #00b4d8);*/
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
}

.navbar .nav-link {
  font-weight: 500;
  letter-spacing: 0.3px;
  transition: all 0.3s ease;
  color: #f8f9fa !important;
  opacity: 0.9;
}

.navbar .nav-link:hover,
.navbar .nav-link.active {
  opacity: 1;
  background-color: rgba(255, 255, 255, 0.15);
  transform: translateY(-1px);
  border-radius: 8px;
}

.navbar-brand {
  color: #fff !important;
}

.navbar-toggler {
  color: #fff;
}

.navbar-toggler:focus {
  box-shadow: none;
}

/* Sur mobile : menu fond clair avec texte foncÃ© pour la lisibilitÃ© */
@media (max-width: 992px) {
  .navbar-collapse {
    background: #f8f9fa;
    border-radius: 10px;
    padding: 1rem;
  }
  .navbar .nav-link {
    color: #333 !important;
  }
  .navbar .nav-link:hover {
    background-color: rgba(0, 123, 255, 0.1);
    color: #007bff !important;
  }
}
</style>

<nav class="navbar navbar-expand-lg shadow-sm sticky-top">
  <div class="container-fluid px-4">

    <!-- Brand -->
    <a class="navbar-brand d-flex align-items-center" href="{{ path('app_home') }}">
      <i class="bi bi-box-seam fs-4 me-2 text-light"></i>
      <span class="fw-semibold text-light fs-5">Product Portal</span>
    </a>

    <!-- Toggle (mobile) -->
    <button class="navbar-toggler text-white border-0" type="button"
            data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <i class="bi bi-list fs-2"></i>
    </button>

    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav align-items-center gap-2">

        <!-- Always visible -->
        <li class="nav-item">
          <a class="nav-link px-3 py-2 text-white" href="{{ path('app_home') }}">
            <i class="bi bi-house-door-fill me-1"></i> Home
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link px-3 py-2 text-white" href="{{ path('app_product_index') }}">
            <i class="bi bi-bag-check me-1"></i> Products
          </a>
        </li>

        <!-- Guest (not logged in) -->
        {% if not app.user %}
          <li class="nav-item">
            <a class="nav-link px-3 py-2 text-white" href="{{ path('app_login') }}">
              <i class="bi bi-box-arrow-in-right me-1"></i> Login
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link px-3 py-2 text-white" href="{{ path('app_register') }}">
              <i class="bi bi-person-plus me-1"></i> Register
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link px-3 py-2 text-white" href="{{ path('app_product_index') }}">
              <i class="bi bi-cart4 me-1"></i> Cart
            </a>
          </li>
        {% endif %}

        <!-- Logged-in user -->
        {% if app.user %}
          <li class="nav-item">
            <a class="nav-link px-3 py-2 text-white" href="{{ path('app_product_index') }}">
              <i class="bi bi-cart-check me-1"></i> My Cart
            </a>
          </li>

          <!-- Admin links -->
          {% if is_granted('ROLE_ADMIN') %}
            <li class="nav-item">
              <a class="nav-link px-3 py-2 text-white" href="{{ path('app_category_index') }}">
                <i class="bi bi-tags me-1"></i> Categories
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link px-3 py-2 text-white" href="{{ path('app_fournisseur_index') }}">
                <i class="bi bi-truck me-1"></i> Suppliers
              </a>
            </li>
          {% endif %}

          <li class="nav-item">
            <a class="nav-link px-3 py-2 text-white" href="{{ path('app_logout') }}">
              <i class="bi bi-box-arrow-right me-1"></i> Logout
            </a>
          </li>
        {% endif %}

      </ul>
    </div>
  </div>
</nav>



<div class="container my-4">

    {% block body %}{% endblock %}
</div>

<!---<footer class="bg-white mt-5 py-3 shadow-sm">
  <div class="container text-center small text-muted">
    Â© {{ "now"|date("Y") }} â€” Application â€¢ Product Management
  </div>
</footer>-->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
{% block javascripts %}{% endblock %}
</body>
</html>


